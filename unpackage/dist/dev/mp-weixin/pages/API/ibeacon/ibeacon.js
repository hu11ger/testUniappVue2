(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/API/ibeacon/ibeacon"],{769:function(e,n,t){"use strict";(function(e,n){var o=t(4);t(26),t(27),t(28);o(t(25));var c=o(t(770));e.__webpack_require_UNI_MP_PLUGIN__=t,n(c.default)}).call(this,t(1)["default"],t(2)["createPage"])},770:function(e,n,t){"use strict";t.r(n);var o=t(771),c=t(773);for(var r in c)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return c[e]}))}(r);t(775);var s,a=t(50),i=Object(a["default"])(c["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],s);i.options.__file="pages/API/ibeacon/ibeacon.vue",n["default"]=i.exports},771:function(e,n,t){"use strict";t.r(n);var o=t(772);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},772:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return c})),t.d(n,"staticRenderFns",(function(){return s})),t.d(n,"recyclableRender",(function(){return r})),t.d(n,"components",(function(){return o}));try{o={pageHead:function(){return t.e("components/page-head/page-head").then(t.bind(null,1442))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var c=function(){var e=this,n=e.$createElement,t=(e._self._c,e.isStarted||e.deviceList.length>0),o=t?e.deviceList.length:null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:o}})},r=!1,s=[];c._withStripped=!0},773:function(e,n,t){"use strict";t.r(n);var o=t(774),c=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=c.a},774:function(e,n,t){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o="FDA50693-A4E2-4FB1-AFCF-C6EB07647825",c={data:function(){return{title:"iBeacon",isOpen:!1,isStarted:!1,deviceList:[],isPageOpened:!1}},onLoad:function(){this.onBeaconUpdate()},onShow:function(){this.isPageOpened=!0},methods:{maskclose:function(){this.maskShow=!1},openBluetoothAdapter:function(){var n=this;e.openBluetoothAdapter({success:function(e){console.log("初始化蓝牙成功:"+e.errMsg),console.log(e),n.isOpen=!0,n.deviceList=[]},fail:function(e){console.log("初始化蓝牙失败，错误码："+(e.errCode||e.errMsg)),0!==e.errCode&&r(e.errCode,e.errMsg)}})},closeBluetoothAdapter:function(e){var n=this;this.stopBeaconDiscovery(),t.closeBluetoothAdapter({success:function(e){n.isOpen=!1,console.log("断开蓝牙模块成功")}})},onBeaconUpdate:function(){var n=this;e.onBeaconUpdate((function(e){n.isPageOpened&&n.isOpen&&n.isStarted&&(console.log(e),e.beacons&&e.beacons.length>0?n.getBeacons():e.connected||(n.deviceList=[]))}))},startBeaconDiscovery:function(){var n=this;e.startBeaconDiscovery({uuids:this.getUUIDList(),success:function(e){n.isStarted=!0,console.log(e)},fail:function(e){console.error(e)}})},stopBeaconDiscovery:function(n){var t=this;this.isStarted&&e.stopBeaconDiscovery({success:function(e){t.isStarted=!1},fail:function(e){console.error(e)}})},getBeacons:function(){var n=this;e.getBeacons({success:function(e){e.beacons&&e.beacons.length>0&&(console.log(e.beacons),n.deviceList=e.beacons)},fail:function(e){console.log("获取设备服务失败，错误码："+e.errCode),0!==errCode.errCode&&r(errCode.errCode)}})},getUUIDList:function(){return[o]}},onUnload:function(){this.isPageOpened=!1}};function r(e,n){switch(e){case 1e4:s("未初始化蓝牙适配器");break;case 10001:s("未检测到蓝牙，请打开蓝牙重试！");break;case 10002:s("没有找到指定设备");break;case 10003:s("连接失败");break;case 10004:s("没有找到指定服务");break;case 10005:s("没有找到指定特征值");break;case 10006:s("当前连接已断开");break;case 10007:s("当前特征值不支持此操作");break;case 10008:s("其余所有系统上报的异常");break;case 10009:s("Android 系统特有，系统版本低于 4.3 不支持 BLE");break;default:s(n)}}function s(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.showModal({title:"提示",content:n,showCancel:t})}n.default=c}).call(this,t(2)["default"],t(1)["default"])},775:function(e,n,t){"use strict";t.r(n);var o=t(776),c=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=c.a},776:function(e,n,t){}},[[769,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/API/ibeacon/ibeacon.js.map