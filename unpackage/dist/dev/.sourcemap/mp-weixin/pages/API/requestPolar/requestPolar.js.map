{"version":3,"sources":["uni-app:///main.js","webpack:///E:/HBuilderProj/testUniappVue2/pages/API/requestPolar/requestPolar.vue?bad2","webpack:///E:/HBuilderProj/testUniappVue2/pages/API/requestPolar/requestPolar.vue?911a","webpack:///E:/HBuilderProj/testUniappVue2/pages/API/requestPolar/requestPolar.vue?8c9d","webpack:///E:/HBuilderProj/testUniappVue2/pages/API/requestPolar/requestPolar.vue?eafd","uni-app:///pages/API/requestPolar/requestPolar.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","pageHead","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","title","loading","res","client_id","client_secret","encodeClientStr","scope","state","getCodeURL","getAccessTokenURL","getUserURl","redirectURL","code","accessToken","signState","created","mounted","uni","icon","mask","duration","methods","getToken","method","url","Headers","params","grant_type","then","saveURL","locationHref","location","requestPromise","_requestAwait","dataType","noncestr","err","content","showCancel"],"mappings":"8JAAA,MAE2D,MAAsD,MACjH,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,6HACIC,EADJ,QAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0CACZ,aAAAF,E,0CCtBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,SAAU,WACR,OAAO,gEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCjCvB,yHAAq1B,eAAG,G,+JCmBx1B,aACA,8DACA,QACA,CACAC,gBACA,OACAC,gBACAC,WACAC,OACAC,iDACAC,qDACAC,mBAEAC,kBACAC,mBACAC,uCACAC,uCACAC,mBACAC,iBACAC,UACAC,iBACAC,eAGAC,mBACA,qEAEAC,mBACA7B,4CACA,qCACA,yCACA8B,aACAjB,qBACAkB,eACAC,QACAC,iBAKAC,SACAC,oBACA,6EACA,mDACAnC,kCACA,aACAoC,cACAC,2BACAC,SACA,oCACA,oCAEAC,QACAC,gCACAf,kBAGAgB,kBACAzC,kBAEA,mBACAA,mBAwBA0C,qBAGAC,wBACAC,cACA,iHAMAC,0BAEA,aACAT,cACAC,gCACAE,QACA,qBACA,qDAGAE,kBACAzC,kBAEA,mBACAA,mBAiEA8C,yBAAA,gKAGAhB,WACAO,MACAU,gBACAnC,MACAoC,uBAEA,qCANAC,OAAAlC,OAqBA,GACAf,8BACA8B,aACAoB,iBACAC,kBAGAnD,iCACA8B,aACAjB,aACAkB,eACAC,QACAC,aAEA,mCAEA,uDAxCA,MA2CA,c","file":"pages/API/requestPolar/requestPolar.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-cloud-stat.es.js';import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/API/requestPolar/requestPolar.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./requestPolar.vue?vue&type=template&id=44677b91&\"\nvar renderjs\nimport script from \"./requestPolar.vue?vue&type=script&lang=js&\"\nexport * from \"./requestPolar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/API/requestPolar/requestPolar.vue\"\nexport default component.exports","export * from \"-!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./requestPolar.vue?vue&type=template&id=44677b91&\"","var components\ntry {\n  components = {\n    pageHead: function () {\n      return import(\n        /* webpackChunkName: \"components/page-head/page-head\" */ \"@/components/page-head/page-head.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./requestPolar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../BrowserDownold/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./requestPolar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\r\n\t\t\t<view class=\"uni-hello-text\">\r\n\t\t\t\t请点击按钮向服务器发起请求\r\n\t\t\t</view>\r\n\t\t\t<a v-if=\"!signState\" href=\"#\" v-on:click=\"saveURL\">登录</a>\r\n\t\t\t<view class=\"uni-textarea uni-common-mt\">\r\n\t\t\t\t<textarea :value=\"res\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-btn-v uni-common-mt\">\r\n\t\t\t\t<button type=\"primary\" @click=\"locationHref\" :loading=\"loading\">发起Polar账号登陆请求</button>\r\n\t\t\t\t<button type=\"primary\" @click=\"getToken\" :loading=\"loading\">获取token令牌</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport Base64 from 'base-64'\r\n\tconst requestUrl = 'https://unidemo.dcloud.net.cn/ajax/echo/text?name=uni-app'\r\n\tconst duration = 2000\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'request',\r\n\t\t\t\tloading: false,\r\n\t\t\t\tres: '',\r\n\t\t\t\tclient_id: 'd9b43148-dff9-4730-bf04-59d284efb671',\r\n\t\t\t\tclient_secret: '8182dbf0-a83c-442c-a110-324bef38d628',\r\n\t\t\t\tencodeClientStr: '',\r\n\r\n\t\t\t\tscope: 'read:user', // Grants access to read a user's profile data.\r\n\t\t\t\tstate: 'your state',\r\n\t\t\t\tgetCodeURL: '/api/oauth2/authorization',\r\n\t\t\t\tgetAccessTokenURL: '/api2/oauth2/token',\r\n\t\t\t\tgetUserURl: '/api3',\r\n\t\t\t\tredirectURL: null,\r\n\t\t\t\tcode: null,\r\n\t\t\t\taccessToken: null,\r\n\t\t\t\tsignState: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getCodeURL += '?' + 'client_id=' + this.client_id + '&response_type=code'\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log(getApp().globalData.accessCode)\r\n\t\t\tif (getApp().globalData.accessCode != '') {\r\n\t\t\t\tthis.code = getApp().globalData.accessCode\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '您已登录至Polar账号',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\tmask: false,\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetToken() {\r\n\t\t\t\tthis.encodeClientStr = Base64.encode(this.client_id + ':' + this.client_secret)\r\n\t\t\t\tthis.encodeClientStr = \"Basic \" + this.encodeClientStr\r\n\t\t\t\tconsole.log(this.encodeClientStr)\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\turl: this.getAccessTokenURL,\r\n\t\t\t\t\t\tHeaders: {\r\n\t\t\t\t\t\t\t'Content - Type': 'application/json',\r\n\t\t\t\t\t\t\t'Authorization': this.encodeClientStr,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tgrant_type: \"authorization_code\",\r\n\t\t\t\t\t\t\tcode: this.code,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t// location.href = res.data\r\n\t\t\t\t\t}).catch(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t// location.href = res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t// uni.request({\r\n\t\t\t\t// \turl: this.getAccessTokenURL,\r\n\t\t\t\t// \tmethod: 'POST',\r\n\t\t\t\t// \theader: {\r\n\t\t\t\t// \t\t'Content - Type': 'application/json',\r\n\t\t\t\t// \t\t'Authorization': this.encodeClientStr,\r\n\t\t\t\t// \t\t// 'Accept': 'application/json;charset=UTF-8',\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tdata: {\r\n\t\t\t\t// \t\tgrant_type: \"authorization_code\",\r\n\t\t\t\t// \t\tcode: this.code,\r\n\t\t\t\t// \t},\r\n\t\t\t\t// }).then(res => {\r\n\t\t\t\t// \tconsole.log('request success', res);\r\n\t\t\t\t// }).catch(err => {\r\n\t\t\t\t// \tconsole.log('request fail', err);\r\n\t\t\t\t// })\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tsaveURL() {\r\n\r\n\t\t\t},\r\n\t\t\tlocationHref() {\r\n\t\t\t\tlocation.href =\r\n\t\t\t\t\t\"https://flow.polar.com/oauth2/authorization?response_type=code&client_id=d9b43148-dff9-4730-bf04-59d284efb671\"\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: 'https://flow.polar.com/oauth2/authorization?response_type=code&client_id=d9b43148-dff9-4730-bf04-59d284efb671'\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// https://flow.polar.com/oauth2/authorization?response_type=code&client_id=d9b43148-dff9-4730-bf04-59d284efb671\r\n\t\t\trequestPromise() {\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\turl: '/api/oauth2/authorization',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t'response_type': 'code',\r\n\t\t\t\t\t\t\t'client_id': '=d9b43148-dff9-4730-bf04-59d284efb671',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t// location.href = res.data\r\n\t\t\t\t\t}).catch(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t// location.href = res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t// uni.request({\r\n\t\t\t\t// \t// url: '/api/v1/image-to-3d/018e8e76-9fb0-7f66-8e94-ee2b52be85d8',\r\n\t\t\t\t// \t// method: 'GET',\r\n\t\t\t\t// \t// header: {\r\n\t\t\t\t// \t// \t'Authorization': \"Bearer msy_ar8y9bKmstdLwmebSabtqBqnxbiZvsYLyIcX\",\r\n\t\t\t\t// \t// },\r\n\t\t\t\t// \turl: '/api/oauth2/authorization',\r\n\t\t\t\t// \tmethod: 'GET',\r\n\t\t\t\t// \tdata: {\r\n\t\t\t\t// \t\tresponse_type: 'code',\r\n\t\t\t\t// \t\tclient_id: 'd9b43148-dff9-4730-bf04-59d284efb671',\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }).then(res => {\r\n\t\t\t\t// \tconsole.log('request success', res[1].data);\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ttitle: '查询成功',\r\n\t\t\t\t// \t\ticon: 'success',\r\n\t\t\t\t// \t\tmask: true,\r\n\t\t\t\t// \t\tduration: duration\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \tthis.res = '请求结果 : ' + JSON.stringify(res[1].data);\r\n\t\t\t\t// \tthis.loading = false;\r\n\t\t\t\t// }).catch(err => {\r\n\t\t\t\t// \tconsole.log('request fail', err);\r\n\t\t\t\t// \tuni.showModal({\r\n\t\t\t\t// \t\tcontent: err.errMsg,\r\n\t\t\t\t// \t\tshowCancel: false\r\n\t\t\t\t// \t});\r\n\r\n\t\t\t\t// \tthis.loading = false;\r\n\t\t\t\t// });\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: requestUrl,\r\n\t\t\t\t\tdataType: 'text',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tnoncestr: Date.now()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log('request success', res);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求成功',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: duration\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.res = '请求结果 : ' + JSON.stringify(res);\r\n\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log('request fail', err);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: err.errMsg,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tasync _requestAwait() {\r\n\t\t\t\tlet res, err\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\t[err, res] = await uni.request({\r\n\t\t\t\t\turl: requestUrl,\r\n\t\t\t\t\tdataType: 'text',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tnoncestr: Date.now()\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\ttry {\r\n\t\t\t\t\tres = await uni.request({\r\n\t\t\t\t\t\turl: requestUrl,\r\n\t\t\t\t\t\tdataType: 'text',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tnoncestr: Date.now()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\terr = e\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tconsole.log('request fail', err);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: err.errMsg,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('request success', res)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求成功',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: duration\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.res = '请求结果 : ' + JSON.stringify(res);\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>"],"sourceRoot":""}